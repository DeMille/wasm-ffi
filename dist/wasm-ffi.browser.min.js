var ffi=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=5)}([function(t,e,r){"use strict";r.d(e,"e",function(){return c}),r.d(e,"b",function(){return s}),r.d(e,"c",function(){return u}),r.d(e,"a",function(){return _}),r.d(e,"d",function(){return l});var n=r(1),i=r(2);class s{constructor(t,e={}){Object(i.a)(!isNaN(t),"Type size must be a number, given: %s",t),this.width=t,this.alignment="alignment"in e?e.alignment:t,e.read&&(this.read=e.read),e.write&&(this.write=e.write)}read(t){return t}write(t,e){Object(i.a)(e instanceof ArrayBuffer||ArrayBuffer.isView(e),"Value must be an `ArrayBuffer` or a `DataView` (like `Uint8Array`)");const r=ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e);new Uint8Array(t.buffer,t.byteOffset,t.byteLength).set(r)}}class a{constructor(t){this.width=t,this.alignment=t;const e=`getInt${8*t}`,r=`setInt${8*t}`;this.read=(t=>t[e](0,!0)),this.write=((t,e)=>t[r](0,e,!0))}}class o{constructor(t){this.width=t,this.alignment=t;const e=`getUint${8*t}`,r=`setUint${8*t}`;this.read=(t=>t[e](0,!0)),this.write=((t,e)=>t[r](0,e,!0))}}const c={void:{width:0,alignment:0,read:()=>null,write:()=>{}}};c.int8=new a(1),c.int16=new a(2),c.int32=new a(4),c.uint8=new o(1),c.uint16=new o(2),c.uint32=new o(4),c.int64=new s(8),c.uint64=new s(8),c.float={width:4,alignment:4,read:t=>t.getFloat32(0,!0),write(t,e){t.setFloat32(0,e,!0)}},c.double={width:8,alignment:8,read:t=>t.getFloat64(0,!0),write(t,e){t.setFloat64(0,e,!0)}},c.bool={width:1,alignment:1,read:t=>!!t.getInt8(0),write(t,e){t.setInt8(0,e?1:0)}};class u{constructor(t,e){this.type=l(t),this.view=null,this._free=null,this._temp=e}attach(t,e){this.view=t,this._free=e,this._temp&&this.set(this._temp)}ref(){return this.view?this.view.byteOffset:0}deref(){return Object(i.a)(this.view,"Trying to deref an unallocated pointer"),this.type.read(this.view,this._free)}set(t){this.view?this.type.write(this.view,t,this._free):this._temp=t}free(){Object(i.a)(this.view,"Cant free pointer: unallocated / already freed"),this._free(this.ref(),this.type.width),this._free=null,this.view=null}}c.pointer=function(t){const e=l(t);return{type:e,width:4,alignment:4,isPointer:!0,read(t,r){const n=t.getUint32(0,!0),i=new u(e);return i.view=new DataView(t.buffer,n,e.width),i._free=r,i},write(t,e){Object(i.a)(e instanceof u,`Trying to write ${e} as a pointer`),Object(i.a)(e.ref(),"Cant write pointer, hasnt been allocated yet"),t.setUint32(0,e.ref(),!0)}}};class _{constructor(t,e){this.type={isPointer:!0,width:null},this.view=null,this._temp=null,this._free=null,"string"==typeof t&&(this._temp=(new n.b).encode(t),this.type.width=this._temp.byteLength+1),t instanceof DataView&&(this.view=t,this._free=e,this.type.width=t.byteLength)}attach(t,e){if(this.view=t,this._free=e,this._temp){const e=new Uint8Array(t.buffer);e.set(this._temp,t.byteOffset),e[t.byteOffset+this.type.width-1]=0}}ref(){return this.view?this.view.byteOffset:0}deref(){Object(i.a)(this.view,"Trying to deref an unallocated CString");const t=new Uint8Array(this.view.buffer),e=this.view.byteOffset,r=e+this.type.width-1,s=new Uint8Array(t.subarray(e,r));return(new n.a).decode(s)}free(){Object(i.a)(!!this.view,"Cant free cstring: unallocated / already freed"),this._free(this.ref(),this.type.width),this._free=null,this.view=null}valueOf(){return this.deref()}toString(){return this.deref()}}c.string={width:4,alignment:4,isPointer:!0,read(t,e){const r=new Uint8Array(t.buffer),n=t.getUint32(0,!0);let i=n;for(;r[i];)++i;const s=i-n+1,a=new DataView(t.buffer,n,s);return new _(a,e)},write(t,e){Object(i.a)(e instanceof _,"value must be a `CString`"),Object(i.a)(e.ref(),"Cant write CString, hasnt been allocated yet"),t.setUint32(0,e.ref(),!0)}};class h{constructor(t,e){this.type=t,this.length=e,this.width=t.width*e,this.alignment=t.alignment}read(t,e){const r=[];for(let n=0;n<=this.length-1;n++){const s=Object(i.b)(t,n*this.type.width,this.type.width);r.push(this.type.read(s,e))}return r}write(t,e){Object(i.a)(e.length===this.length,"Values length does not match struct array length"),e.forEach((e,r)=>{const n=Object(i.b)(t,r*this.type.width,this.type.width);this.type.write(n,e)})}}const f={u8:c.uint8,u16:c.uint16,u32:c.uint32,u64:c.uint64,i8:c.int8,i16:c.int16,i32:c.int32,i64:c.int64,f32:c.float,f64:c.double,char:c.uint8,uchar:c.uint8,schar:c.int8,short:c.int16,ushort:c.uint16,int:c.int32,uint:c.uint32,long:c.int32,ulong:c.uint32,longlong:c.uint64,ulonglong:c.uint64,size_t:c.uint32,usize:c.uint32};function l(t){if("string"==typeof t)return function(t){const e=t.toLowerCase();if(e in c)return c[e];if(e in f)return f[e];throw new Error(`Parsing unknown type '${t}'`)}(t);if(Array.isArray(t)){Object(i.a)(2===t.length,"Array type needs 2 arguments: [type, length], given: \n%s",t);const e=l(t[0]),r=t[1];return new h(e,r)}const e="Given argument type isn't a proper 'type' interface: \n%s";return Object(i.a)("width"in t,e,t),Object(i.a)("alignment"in t,e,t),Object(i.a)("read"in t,e,t),Object(i.a)("write"in t,e,t),t}},function(t,e,r){"use strict";function n(t){let e,r=null,n=1/0;const i=[];for(let s=0;s<t.length;++s){if((e=t.charCodeAt(s))>55295&&e<57344){if(!r){if(e>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(s+1===t.length){(n-=3)>-1&&i.push(239,191,189);continue}r=e;continue}if(e<56320){(n-=3)>-1&&i.push(239,191,189),r=e;continue}e=65536+(r-55296<<10|e-56320)}else r&&(n-=3)>-1&&i.push(239,191,189);if(r=null,e<128){if((n-=1)<0)break;i.push(e)}else if(e<2048){if((n-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return Uint8Array.from(i)}function i(t){const e=t.length,r=[];let n=0;for(;n<e;){const i=t[n];let s,a,o,c,u=null,_=i>239?4:i>223?3:i>191?2:1;if(n+_<=e)switch(_){case 1:i<128&&(u=i);break;case 2:128==(192&(s=t[n+1]))&&(c=(31&i)<<6|63&s)>127&&(u=c);break;case 3:s=t[n+1],a=t[n+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:s=t[n+1],a=t[n+2],o=t[n+3],128==(192&s)&&128==(192&a)&&128==(192&o)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&c<1114112&&(u=c)}null===u?(u=65533,_=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),n+=_}if(r.length<=4096)return String.fromCharCode.call(String,...r);let i="",s=0;for(;s<r.length;)i+=String.fromCharCode.call(String,...r.slice(s,s+=4096));return i}r.d(e,"b",function(){return s}),r.d(e,"a",function(){return a}),r.d(e,"d",function(){return n}),r.d(e,"c",function(){return i});const s="undefined"!=typeof TextEncoder?TextEncoder:class{encode(t){return n(t)}},a="undefined"!=typeof TextDecoder?TextDecoder:class{decode(t){return i(t)}}},function(t,e,r){"use strict";e.a=function(t,e,...r){if(t)return;if(!r||!r.length)throw new Error(e);let n,i="";try{n=r.map(t=>JSON.stringify(t,null,2))}catch(t){throw new Error(e)}throw e.split("%s").forEach(t=>{i+=t,n.length&&(i+=n.pop())}),new Error(i)},e.b=function(t,e,r){return new DataView(t.buffer,t.byteOffset+e,r)}},function(t,e,r){"use strict";e.a=function(t){const e=/(?:at (.+) \()|(?:(.+)<?@)/;return t.stack=t.stack.split("\n").map(t=>t.replace(e,(t,e,r)=>`at ${function(t=""){const e=e=>0===t.indexOf(e);let r;if(!(e=>t.slice(-1)===e)("E"))return t;if(e("ZN")?r=t.slice(2,-1):e("_ZN")?r=t.slice(3,-1):e("__ZN")&&(r=t.slice(4,-1)),!r)return t;const n=[];let s="",a="",o=0;var c;return r.split("").forEach(t=>{o?(s+=t,o--):(s&&(n.push(s),s=""),/[0-9]/.test(t)?a+=t:(o=parseInt(a,10),a="",s+=t,o--))}),s&&n.push(s),(c=n.slice(-1)[0]).length&&"h"===c[0]&&c.split("").slice(1).every(t=>/[0-9a-f]/i.test(t))&&n.pop(),n.map(i).join("::")}(e||r)} (`)).join("\n"),t};const n=[[/^_\$/,"$"],[/\$C\$/g,","],[/\$SP\$/g,"@"],[/\$BP\$/g,"*"],[/\$RF\$/g,"&"],[/\$LT\$/g,"<"],[/\$GT\$/g,">"],[/\$LP\$/g,"("],[/\$RP\$/g,")"],[/\$u7e\$/g,"~"],[/\$u20\$/g," "],[/\$u27\$/g,"'"],[/\$u5b\$/g,"["],[/\$u5d\$/g,"]"],[/\$u7b\$/g,"{"],[/\$u7d\$/g,"}"],[/\$u3b\$/g,";"],[/\$u2b\$/g,"+"],[/\$u22\$/g,'"'],[/\.\./g,"::"]];function i(t){return n.reduce((t,[e,r])=>t.replace(e,r),t)}},function(t,e,r){"use strict";var n=r(0),i=r(2);const s="undefined"!=typeof Symbol?Symbol.for("struct-data"):"__data";class a{constructor(t){this[s]={temp:{},view:null,free:null},t&&Object.entries(t).forEach(([t,e])=>{Object(i.a)(t in this,`Struct missing field '${t}'`),Object(i.a)("ref"!==t,"Field `ref` is a reserved method name"),Object(i.a)("free"!==t,"Field `free` is a reserved method name"),this[t]=e})}ref(){return this[s].view?this[s].view.byteOffset:0}free(t=!1){Object(i.a)(!!this[s].free,"Cant free struct, either: unallocated / already freed / sub-struct");const e=t=>{t.constructor.fields.forEach((r,n)=>{r.type.isPointer&&t[n].free(),r.type.isStruct&&e(t[n])})};t&&e(this),this[s].free(this.ref(),this.constructor.width),this[s].free=null,this[s].view=null}static read(t,e){const r=new this;return r[s].view=t,r[s].free=e,r}static write(t,e,r){this.fields.forEach((r,n)=>{const s=e[n];if(void 0!==s){const e=Object(i.b)(t,r.offset,r.type.width);r.type.write(e,s)}}),e[s].view=t,r&&(e[s].free=r)}}e.a=class{constructor(t={},e={}){class r extends a{}r.fields=new Map,r.packed="packed"in e&&!!e.packed,r.alignment=e.alignment||0,r.isStruct=!0;let o=0;return Object.getOwnPropertyNames(t).forEach(i=>{const s=Object(n.d)(t[i]);!e.alignment&&s.alignment>r.alignment&&(r.alignment=s.alignment),r.packed||o%s.alignment==0||(o+=s.alignment-o%s.alignment),r.fields.set(i,{name:i,offset:o,type:s}),o+=s.width}),r.width=o%r.alignment?o+r.alignment-o%r.alignment:o,r.fields.forEach((t,e)=>{Object.defineProperty(r.prototype,e,{enumerable:!0,get(){if(!this[s].view)return this[s].temp[e];const r=Object(i.b)(this[s].view,t.offset,t.type.width);return t.type.read(r,this[s].free)},set(r){if("string"==typeof r&&t.type===n.e.string&&(r=new n.a(r)),!this[s].view)return void(this[s].temp[e]=r);const a=Object(i.b)(this[s].view,t.offset,t.type.width);t.type.write(a,r)}})}),r}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"_encodeUTF8",function(){return u}),r.d(e,"_decodeUTF8",function(){return _});var n=r(6),i=r(4),s=r(3),a=r(0),o=r(7),c=r(1);r.d(e,"Wrapper",function(){return n.a}),r.d(e,"cwrap",function(){return n.c}),r.d(e,"ccall",function(){return n.b}),r.d(e,"Struct",function(){return i.a}),r.d(e,"types",function(){return a.e}),r.d(e,"Pointer",function(){return a.c}),r.d(e,"CustomType",function(){return a.b}),r.d(e,"CString",function(){return a.a}),r.d(e,"demangle",function(){return s.a}),r.d(e,"rust",function(){return o.a});const u=c.d,_=c.c;e.default={Wrapper:n.a,cwrap:n.c,ccall:n.b,Struct:i.a,types:a.e,Pointer:a.c,CustomType:a.b,CString:a.a,demangle:s.a,rust:o.a,_encodeUTF8:u,_decodeUTF8:_}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Wrapper}),__webpack_require__.d(__webpack_exports__,"c",function(){return cwrap}),__webpack_require__.d(__webpack_exports__,"b",function(){return ccall});var __WEBPACK_IMPORTED_MODULE_0__types__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__encoding__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2__misc__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_3__demangle__=__webpack_require__(3);const numbers=new Set(["int8","int16","int32","int64","uint8","uint16","uint32","uint64","float","double","u8","u16","u32","u64","i8","i16","i32","i64","f32","f64","schar","short","int","long","char","uchar","ushort","uint","ulong","size_t","usize"]);function areValid(t){return t.every(t=>null===t||void 0===t||"void"===t||"number"===t||"boolean"===t||"bool"===t||"string"===t||"array"===t||numbers.has(t)||t.isStruct||t.isPointer)}let fs;function fetch_polyfill(file){return new Promise((resolve,reject)=>{(fs||(fs=eval("equire".replace(/^/,"r"))("fs"))).readFile(file,function(t,e){return t?reject(t):resolve({arrayBuffer:()=>Promise.resolve(e),ok:!0})})})}const fetchFn="function"==typeof fetch&&fetch||fetch_polyfill;function fetchAndInstantiate(t,e){return fetchFn(t).then(r=>{if(!r.ok)throw new Error(`Got a ${r.status} fetching wasm @ ${t}`);const n=r.headers&&r.headers.get("content-type");return WebAssembly.instantiateStreaming&&"application/wasm"===n?WebAssembly.instantiateStreaming(r,e):r.arrayBuffer().then(t=>WebAssembly.instantiate(t,e))}).then(t=>t.instance)}const DATA="undefined"!=typeof Symbol?Symbol.for("wrapper-data"):"__data";class Wrapper{constructor(t,e={}){this[DATA]={instance:null,imports:null,signatures:new Set,allocations:new Map,memory:e.memory,debug:!!e.debug},Object.entries(t).forEach(([t,[e,r=[]]])=>{Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)("exports"!==t,"`exports` is a reserved wrapper name"),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)("utils"!==t,"`utils` is a reserved wrapper name"),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)("imports"!==t,"`imports` is a reserved wrapper method name"),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)("fetch"!==t,"`fetch` is a reserved wrapper method name"),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)("use"!==t,"`use` is a reserved wrapper method name"),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(r.every(t=>!!t),`'${t}' has undefined types`),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(areValid([e]),`'${t}' has invalid types`),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(areValid(r),`'${t}' has invalid types`),this[DATA].signatures.add({fnName:t,returnType:e,argTypes:r})}),this.utils={readString:this.__readString.bind(this),writeString:this.__writeString.bind(this),writeArray:this.__writeArray.bind(this),readStruct:this.__readStruct.bind(this),writeStruct:this.__readStruct.bind(this),readPointer:this.__readPointer.bind(this),writePointer:this.__readPointer.bind(this),allocate:function(t){Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)("ref"in t,"This method is for Pointer / Structs / CStrings"),t instanceof __WEBPACK_IMPORTED_MODULE_0__types__.c||t instanceof __WEBPACK_IMPORTED_MODULE_0__types__.a?this.__writePointer(t):this.__writeStruct(t)}.bind(this),free:function(t){"ref"in t?this.__free(t.ref()):this.__free(t)}.bind(this)},this.exports=null,this.__free=this.__free.bind(this)}imports(t,e=!0){const r=(...t)=>{const e=t.pop(),r=Array.isArray(t[0])?t[0]:[null,t],[n,i=[]]=r;return Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(areValid(i),`Import has invalid types: ${i}`),Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(areValid([n]),`Import has invalid types: ${n}`),(...t)=>{const r=e(...t.map((t,e)=>this.__out(t,i[e])));if(n&&"void"!==n)return this.__in(r,n)}},n={print:r("string",t=>console.log(t)),eprint:r("string",t=>console.error(t)),trace:r("string",t=>{throw new Error(t)}),_abort(t){throw new Error(`wasm aborting: ${t}`)},_exit(t){if(t)throw new Error(`wasm exit error: ${t}`)},_grow(){}},i="function"==typeof t?t(r):t;return e&&(i.env=Object.assign(n,i.env)),this[DATA].imports=i,i}fetch(t){return fetchAndInstantiate(t,this[DATA].imports||this.imports({})).then(t=>(this.__link(t),this))}use(t){return Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(t instanceof WebAssembly.Instance,".use(instance) requires a WebAssembly.Instance"),this.__link(t),this}__link(t){const e=this[DATA].memory||t.exports.memory||this[DATA].imports.env&&this[DATA].imports.env.memory;Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!e,"Wrapper needs access to your WebAssemmbly memory. It looks for this ineither your `imports.env.memory` or `exports.env.memory`. If you don'tuse either, you need to add it in the options with `new Wrapper`"),this.exports=t.exports,this[DATA].instance=t,this[DATA].memory=e,this[DATA].signatures.forEach(({fnName:t,returnType:e,argTypes:r})=>{const n=this.exports[t];Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!n,`Fn '${t}' missing from wasm exports`),this[t]=this.__wrap(n,r,e)})}__wrap(t,e,r){return function(...n){const i=[],s=n.map((t,r)=>this.__in(t,e[r],i));let a;try{a=t(...s)}catch(t){throw Object(__WEBPACK_IMPORTED_MODULE_3__demangle__.a)(t)}if(i.forEach(t=>this.__free(t)),r&&"void"!==r)return this.__out(a,r)}}__in(t,e,r){if(Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!e,"No arg type was specified for function"),"number"===e||numbers.has(e))return t;if("boolean"===e||"bool"===e)return!!t;if("string"===e)return this.__writeString(t,r);if("array"===e)return this.__writeArray(t,r);if(e.isStruct)return this.__writeStruct(t);if(e.isPointer)return this.__writePointer(t);throw new Error(`Unknown type: \n${JSON.stringify(e)}`)}__out(t,e){if(Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!e,"No arg type was specified for function"),"number"===e||numbers.has(e))return t;if("boolean"===e||"bool"===e)return!!t;if("string"===e)return this.__readString(t);if(e.isStruct)return this.__readStruct(t,e);if(e.isPointer)return this.__readPointer(t,e);throw new Error(`Unknown type: \n${JSON.stringify(e)}`)}__allocate(t){Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!this.exports.allocate&&!!this.exports.deallocate,"Missing allocate/deallocate fns in wasm exports, can't allocate memory");const e=this.exports.allocate(t);return Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!e,"allocate failed"),this[DATA].debug&&console.log("Alloc: %s (size=%s)",e,t),this[DATA].allocations.set(e,t),e}__free(t,e){const r=e||this[DATA].allocations.get(t);this[DATA].debug&&console.log("Free: %s (size=%s)",t,r),this.exports.deallocate(t,r),this[DATA].allocations.delete(t)}__view(t,e){return new DataView(this[DATA].memory.buffer,t,e)}__readString(t){const e=new Uint8Array(this[DATA].memory.buffer);let r=t;for(;e[r];)++r;const n=new Uint8Array(e.subarray(t,r));return(new __WEBPACK_IMPORTED_MODULE_1__encoding__.a).decode(n)}__writeString(t,e){const r=(new __WEBPACK_IMPORTED_MODULE_1__encoding__.b).encode(t),n=r.byteLength+1,i=this.__allocate(n);e&&e.push(i);const s=new Uint8Array(this[DATA].memory.buffer);return s.set(r,i),s[i+n-1]=0,i}__writeArray(t,e){Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(t instanceof ArrayBuffer||ArrayBuffer.isView(t),"Argument must be an `ArrayBuffer` or a `DataView` (like `Uint8Array`)");const r=ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t),n=this.__allocate(r.byteLength);return e&&e.push(n),new Uint8Array(this[DATA].memory.buffer).set(r,n),n}__readStruct(t,e){Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!e,"No struct StructType given");const r=this.__view(t,e.width);return e.read(r,this.__free)}__writeStruct(t){if(t.ref())return t.ref();const e=t.constructor,r=this.__allocate(e.width),n=this.__view(r,e.width),i=t=>{t.constructor.fields.forEach((e,r)=>{e.type.isStruct&&t[r]&&i(t[r]),e.type.isPointer&&t[r]&&this.__writePointer(t[r])})};return i(t),e.write(n,t,this.__free),r}__readPointer(t,e){Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(!!e,"No pointer type given");const r=this.__view(t,e.type.width);if(e.type.isStruct||e.type.isPointer)return e.read(r,this.__free);const n=new __WEBPACK_IMPORTED_MODULE_0__types__.c(e.type);return n.attach(r,this.__free),n}__writePointer(t){if(t.ref())return t.ref();const e=this.__allocate(t.type.width),r=this.__view(e,t.type.width);return t.attach(r,this.__free),e}}function cwrap(t,e,r=null,n=[]){Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(t instanceof WebAssembly.Instance,".cwrap() requires a ready WebAssembly.Instance");const i=new Wrapper({[e]:[r,n]});return i.use(t),i[e].bind(i)}function ccall(t,e,r=null,n=[],...i){Object(__WEBPACK_IMPORTED_MODULE_2__misc__.a)(t instanceof WebAssembly.Instance,".ccall() requires a ready WebAssembly.Instance");const s=new Wrapper({[e]:[r,n]});return s.use(t),s[e].call(s,...i)}},function(t,e,r){"use strict";var n=r(4),i=r(0),s=r(1),a=r(2);const o="undefined"!=typeof Symbol?Symbol.for("struct-data"):"__data";function c(t){class e extends t{free(){super.free(!0)}}return Object.assign(e,t),e}function u(...t){const e={};return t.forEach((t,r)=>{e[r]=Object(i.d)(t)}),new n.a(e)}function _(t){const e=Object(i.d)(t),r=c(new n.a({ptr:i.e.pointer(e),cap:"usize",len:"usize"}));return Object.defineProperty(r.prototype,"values",{enumerable:!0,get(){const t=Object(i.d)([e,this.len]),r=this[o].view.buffer,n=new DataView(r,this.ptr.ref(),t.width);return t.read(n,this[o].free)},set(t){const r=t.length;this.ptr=new i.c([e,r],t),this.len=r,this.cap=r}}),r}function h(t){const e=Object(i.d)(t),r=c(new n.a({ptr:i.e.pointer(e),len:"usize"}));return Object.defineProperty(r.prototype,"values",{enumerable:!0,get(){const t=Object(i.d)([e,this.len]),r=this[o].view.buffer,n=new DataView(r,this.ptr.ref(),t.width);return t.read(n,this[o].free)},set(t){const r=t.length;this.ptr=new i.c([e,r],t),this.len=r}}),r}function f(){const t=c(new n.a({ptr:i.e.pointer("u8"),cap:"usize",len:"usize"}));return Object.defineProperty(t.prototype,"value",{enumerable:!0,get(){const t=this[o].view.buffer,e=new Uint8Array(t,this.ptr.ref(),this.len);return(new s.a).decode(e)},set(t){const e=(new s.b).encode(t),r=e.length;this.ptr=new i.c(["u8",r],e),this.len=r,this.cap=r}}),t.prototype.toString=function(){return this.value},t}function l(){const t=c(new n.a({ptr:i.e.pointer("u8"),len:"usize"}));return Object.defineProperty(t.prototype,"value",{enumerable:!0,get(){const t=this[o].view.buffer,e=new Uint8Array(t,this.ptr.ref(),this.len);return(new s.a).decode(e)},set(t){const e=(new s.b).encode(t),r=e.length;this.ptr=new i.c(["u8",r],e),this.len=r}}),t.prototype.toString=function(){return this.value},t}function d(t,e=!1,r){const s=Object(i.d)(t);let a;a=r?i.e[`uint${8*r}`]:1===s.alignment?"uint8":2===s.alignment?"uint16":"uint32";const o=e?{value:s}:{discriminant:a,value:s},c=new n.a(o);return Object.assign(c.prototype,{isSome(){return"discriminant"in o?!!this.discriminant:!!this.value},isNone(){return!this.isSome()},expect(t){if(!this.isSome())throw new Error(t);return this.value},unwrap(){if(!this.isSome())throw new Error("Error unwrapping none");return this.value},unwrapOr(t){return this.isSome()?this.value:t},unwrapOrElse(t){return this.isSome()?this.value:t()}}),c}const p={tuple:u,Tuple:function(t,e){return new(u(...t))([...e])},vector:_,Vector:function(t,e){return new(_(t))({values:e})},slice:h,Slice:function(t,e){return new(h(t))({values:e})},string:f(),String:function(t){return new(f())({value:t})},str:l(),Str:function(t){return new(l())({value:t})},option:d,Option:function(t,e,...r){return new(d(t,...r))({value:e,discriminant:void 0===e?0:1})},Some:function(...t){return new p.Option(...t)},None:function(t,...e){return new p.Option(t,void 0,...e)},enum:function(t,e=4){const r=Object.getOwnPropertyNames(t),s=r.map(e=>Object(i.d)(t[e])),c=i.e[`uint${8*e}`],u=new n.a({discriminant:c});class _ extends u{constructor(t){super(),t&&this._set(t)}_set(t){Object(a.a)(1===Object.keys(t).length,"Enum value must be a variant");const[e,n]=Object.entries(t)[0];this.discriminant=r.indexOf(e),this.value=n}tag(){const t=this.discriminant;return Object(a.a)(t<=r.length,"Enum discriminant > than # of variants"),t}free(t=!1){const e=s[this.tag()];(t&&e.isPointer||e.isStruct)&&this.value.free(t),this[o].free(this.ref(),_.width),this[o].free=null,this[o].view=null}name(){return r[this.tag()]}is(t){return r.indexOf(t)===this.tag()}match(t){const e=r[this.tag()],n=this.value;return e in t?"function"==typeof t[e]?t[e](n):t[e]:"_"in t?"function"==typeof t._?t._(n):t._:void 0}static write(t,e,r){const n=e.tag(),i=s[n],u=e.ref()?e.value:e[o].temp.value,_=Object(a.b)(t,0,c.width);c.write(_,n);const h=Object(a.b)(t,c.width,i.width);i.write(h,u),e[o].view=t,r&&(e[o].free=r)}}Object.defineProperty(_.prototype,"value",{enumerable:!0,get(){const t=this.ref()+c.width,e=this[o].view.buffer,r=s[this.tag()],n=new DataView(e,t,r.width);return r.read(n,this[o].free)},set(t){this[o].temp.value=t}}),Object.assign(_,u);const h=t=>t.reduce((t,e)=>e>t?e:t,0),f=c.width+h(s.map(t=>t.width)),l=h([...s.map(t=>t.alignment),c.alignment]);return _.width=f%l?f+l-f%l:f,_}};e.a=p}]);